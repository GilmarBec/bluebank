<div class="form-client">
  <label for="name">Nome: </label>
  <input type="text" id="name">

  <label for="cpf">CPF: </label>
  <input type="text" id="cpf">

  <label for="email">E-mail: </label>
  <input type="text" id="email">

  <label for="login">Login: </label>
  <input type="text" id="login">

  <label for="password">Senha: </label>
  <input type="password" id="password">
</div>

<div class="form-address">
  <label for="cep">Cep: </label>
  <input type="text" id="cep">

  <label for="state">Estado: </label>
  <input type="text" id="state">

  <label for="city">Cidade: </label>
  <input type="text" id="city">

  <label for="district">Bairro: </label>
  <input type="text" id="district">

  <label for="street">Rua: </label>
  <input type="text" id="street">

  <label for="number">Numero: </label>
  <input type="number" id="number">
</div>

<div class="form-actions">
  <button onclick="submitClient(url, method)">Salvar</button>
</div>

<script>
  url = "/clients";
  method = "post";

  <% if !@address.nil? %>
    url = "/clients/"+<%= @client.id %>;
    method = "patch";

    loadClientInformations(loadParams());

    function loadParams(){
      params = [];
      params["name"] = "<%= @client.name %>";
      params["cpf"] = "<%= @client.cpf %>";
      params["email"] = "<%= @client.email %>";
      params["login"] = "<%= @client.login %>";
      params["cep"] = "<%= @client.address.cep %>";
      params["state"] = "<%= @client.address.state %>";
      params["city"] = "<%= @client.address.city %>";
      params["district"] = "<%= @client.address.district %>";
      params["street"] = "<%= @client.address.street %>";
      params["number"] = "<%= @client.address.number %>";

      return params;
    }

    function loadClientInformations(params){
      $("#name").val(params["name"]);
      $("#cpf").val(params["cpf"]);
      $("#email").val(params["email"]);
      $("#login").val(params["login"]);
      $("#cep").val(params["cep"]);
      $("#state").val(params["state"]);
      $("#city").val(params["city"]);
      $("#district").val(params["district"]);
      $("#street").val(params["street"]);
      $("#number").val(params["number"]);
    }
  <% end %>
</script>
